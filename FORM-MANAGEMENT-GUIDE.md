# 📊 表单数据管理系统说明

## 更新时间：2026-02-27

---

## ✅ 已完成的修复

### 1. 图标大小统一 ✨

**修改位置**：`css/style.css` 中的 `.feature-item i`

**修改内容**：
```css
.feature-item i {
    font-size: 32px;        /* 统一字体大小 */
    width: 64px;            /* 固定宽度 */
    height: 64px;           /* 固定高度 */
    display: flex;          /* 弹性布局 */
    align-items: center;    /* 垂直居中 */
    justify-content: center; /* 水平居中 */
    padding: 16px;          /* 内边距 */
    border-radius: 12px;    /* 圆角 */
}
```

**视觉效果**：
- 所有三个图标现在都是 64x64 像素的正方形
- 图标在方框内完美居中
- 统一的圆角和内边距
- 玫瑰金色背景（半透明白色）

---

## 📋 表单数据管理系统

### 系统架构

```
用户填写表单 → 提交数据 → 保存到数据库 → 管理后台查看/处理
```

### 数据流向

1. **用户填写** → 首页或联系页的预约表单
2. **前端提交** → JavaScript收集表单数据
3. **API保存** → 通过RESTful API保存到数据库
4. **管理查看** → 通过管理后台查看和处理

---

## 📊 数据库表结构

**表名**：`appointments`（预约记录表）

| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | text | 预约记录唯一标识（自动生成UUID） |
| parent_name | text | 家长姓名 |
| phone | text | 联系电话 |
| student_name | text | 考生姓名 |
| score_range | text | 预估分数段 |
| contact_time | text | 期望联系时间 |
| service_type | text | 服务类型 |
| message | text | 留言内容 |
| submit_time | datetime | 提交时间 |
| status | text | 处理状态（待处理/已联系/已完成/已取消） |

---

## 🔧 功能说明

### 前端表单提交（用户端）

**位置**：`js/main.js`

**流程**：
1. 用户填写表单信息
2. 点击"提交预约"按钮
3. JavaScript收集表单数据
4. 添加提交时间和初始状态（"待处理"）
5. 通过API发送到数据库
6. 显示成功提示（含预约编号）
7. 清空表单

**成功提示示例**：
```
提交成功！我们将在24小时内与您联系。
您的预约编号：a1b2c3d4
```

**失败提示**：
```
提交失败，请稍后重试或直接拨打咨询热线：13390900614
```

---

### 管理后台（管理员端）

**访问地址**：`admin-appointments.html`

**功能清单**：

#### 1. 数据统计卡片
- **总预约数**：所有预约记录总数
- **待处理**：状态为"待处理"的数量
- **今日新增**：今天提交的预约数
- **已完成**：已完成处理的数量

#### 2. 数据筛选
- **按状态筛选**：待处理/已联系/已完成/已取消
- **刷新数据**：重新加载最新数据
- **导出数据**：导出为CSV（待开发）

#### 3. 预约列表
显示字段：
- 提交时间
- 家长姓名
- 联系电话（可直接拨打）
- 考生姓名
- 分数段
- 期望联系时间
- 服务类型
- 处理状态（彩色徽章）

#### 4. 快速操作
- **已联系**按钮：标记已联系过客户
- **完成**按钮：标记该预约已完成

---

## 🎨 状态颜色标识

| 状态 | 颜色 | 说明 |
|------|------|------|
| 待处理 | 🟡 黄色 | 刚提交，等待处理 |
| 已联系 | 🔵 蓝色 | 已联系客户，跟进中 |
| 已完成 | 🟢 绿色 | 服务已完成 |
| 已取消 | 🔴 红色 | 客户取消或无效预约 |

---

## 📱 使用教程

### 用户端（填写表单）

1. 访问首页或联系页
2. 找到"预约免费咨询"表单
3. 填写必填信息：
   - 家长姓名*
   - 联系电话*
   - 考生姓名*
   - 预估分数段*
4. 选填信息：
   - 期望联系时间
   - 服务类型
   - 留言内容
5. 点击"提交预约"
6. 记住预约编号（前8位）

### 管理端（查看处理）

1. 打开 `admin-appointments.html`
2. 查看统计数据
3. 筛选需要处理的预约
4. 点击电话号码直接拨打
5. 联系客户后点击"已联系"
6. 服务完成后点击"完成"

---

## 🔄 API接口说明

### 1. 创建预约
```
POST tables/appointments

请求体：
{
  "parent_name": "张三",
  "phone": "13390900614",
  "student_name": "张小明",
  "score_range": "550-600",
  "contact_time": "上午",
  "service_type": "标准服务",
  "message": "想了解详细服务内容",
  "submit_time": "2026-02-27T10:30:00Z",
  "status": "待处理"
}

响应：
{
  "id": "a1b2c3d4-5678-90ab-cdef-1234567890ab",
  "parent_name": "张三",
  ...其他字段
}
```

### 2. 查询预约列表
```
GET tables/appointments?limit=100&sort=-submit_time

响应：
{
  "data": [...],
  "total": 25,
  "page": 1,
  "limit": 100
}
```

### 3. 更新预约状态
```
PATCH tables/appointments/{id}

请求体：
{
  "status": "已联系"
}
```

---

## 💡 使用建议

### 处理流程建议

1. **每天早上**
   - 打开管理后台
   - 查看"今日新增"数量
   - 筛选"待处理"状态

2. **联系客户**
   - 按提交时间顺序
   - 优先处理"标准服务"和高分段
   - 联系后立即更新为"已联系"

3. **跟进服务**
   - 记录沟通内容（可在留言字段补充）
   - 服务完成后更新为"已完成"
   - 无效预约更新为"已取消"

4. **定期导出**
   - 每周导出数据备份
   - 分析预约来源和转化率

---

## 🔒 数据安全

1. **隐私保护**
   - 电话号码等敏感信息仅管理员可见
   - 建议设置管理后台访问密码

2. **数据备份**
   - 定期导出数据到本地
   - 重要客户信息另行备份

3. **访问控制**
   - 管理后台链接不要公开
   - 建议使用服务器端认证

---

## 📈 未来扩展

### 计划功能

1. **数据导出**
   - CSV导出
   - Excel导出

2. **高级筛选**
   - 按日期范围筛选
   - 按分数段筛选
   - 按服务类型筛选

3. **客户跟进**
   - 添加跟进记录
   - 预约提醒功能
   - 回访记录

4. **数据分析**
   - 每日预约趋势图
   - 分数段分布图
   - 服务类型占比

---

## 🎯 快速开始

### 第一步：测试表单提交
1. 打开 `index.html`
2. 滚动到预约表单
3. 填写测试数据并提交
4. 确认收到成功提示

### 第二步：查看管理后台
1. 打开 `admin-appointments.html`
2. 查看刚才提交的数据
3. 尝试更新状态

### 第三步：实际使用
1. 将网站部署到服务器
2. 分享管理后台链接给团队
3. 开始接收真实预约

---

## ✅ 检查清单

使用前请确认：

- [ ] 首页表单可以正常提交
- [ ] 联系页表单可以正常提交
- [ ] 管理后台可以正常打开
- [ ] 管理后台可以看到提交的数据
- [ ] 可以更新预约状态
- [ ] 统计数据显示正确
- [ ] 电话号码可以点击拨打

---

## 🆘 常见问题

### Q1: 表单提交后看不到数据？
**A:** 打开浏览器控制台（F12），查看是否有错误信息。确认网络连接正常。

### Q2: 管理后台一直显示"加载中"？
**A:** 检查数据库连接是否正常，刷新页面重试。

### Q3: 如何删除测试数据？
**A:** 目前需要通过API删除，或在数据库管理界面操作。

### Q4: 可以修改表单字段吗？
**A:** 可以！修改HTML表单后，记得同步更新数据库表结构。

---

## 📞 技术支持

如有问题，请联系技术支持：
- 微信：X13390900614
- 电话：13390900614

---

**系统已完成！现在可以开始接收和管理客户预约了！** 🎉